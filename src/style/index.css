/* ========= Tailwind ========= */
@tailwind base;
@tailwind components;
@tailwind utilities;


/* ========= Fonts (GLOBAL, вне любых @media!) ========= */
/* — ABC_TypeWriterRussian (используется в мобильной и десктопной биографии) */
@font-face {
  font-family: "ABC_TypeWriterRussian";
  src:
    url("/rustam-site/assents/fonts/ABC_TypeWriterRussian.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/ABC_TypeWriterRussian.woff") format("woff"),
    url("/rustam-site/assents/fonts/ABC_TypeWriterRussian.ttf") format("truetype");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

/* — Rostov (для имени на десктопе/мобилке) */
@font-face {
  font-family: "Rostov";
  src:
    url("/rustam-site/assents/fonts/Rostov.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/Rostov.woff") format("woff"),
    url("/rustam-site/assents/fonts/Rostov.otf") format("opentype");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

/* — Royal Crescent (для DIRECTOR'S SHOWREEL и BIOGRAPHY) */
@font-face {
  font-family: "Royal Crescent";
  src:
    url("/rustam-site/assents/fonts/RoyalCrescent.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/RoyalCrescent.woff") format("woff"),
    url("/rustam-site/assents/fonts/RoyalCrescent.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* — Uni Sans Heavy (два имени семейства на случай разночтений в коде) */
@font-face {
  font-family: "Uni Sans Heavy";
  src:
    url("/rustam-site/assents/fonts/UniSans-Heavy.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/UniSans-Heavy.woff") format("woff"),
    url("/rustam-site/assents/fonts/Uni%20Sans%20Heavy.otf") format("opentype");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Uni Sans Heavy";
  src:
    url("/rustam-site/assents/fonts/UniSans-Heavy-Italic.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/UniSans-Heavy-Italic.woff") format("woff"),
    url("/rustam-site/assents/fonts/Uni%20Sans%20Heavy%20Italic.otf") format("opentype");
  font-weight: 800;
  font-style: italic;
  font-display: swap;
}

/* алиас "UniSans-Heavy" */
@font-face {
  font-family: "UniSans-Heavy";
  src:
    url("/rustam-site/assents/fonts/UniSans-Heavy.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/UniSans-Heavy.woff") format("woff"),
    url("/rustam-site/assents/fonts/Uni%20Sans%20Heavy.otf") format("opentype");
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "UniSans-Heavy";
  src:
    url("/rustam-site/assents/fonts/UniSans-Heavy-Italic.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/UniSans-Heavy-Italic.woff") format("woff"),
    url("/rustam-site/assents/fonts/Uni%20Sans%20Heavy%20Italic.otf") format("opentype");
  font-weight: 800;
  font-style: italic;
  font-display: swap;
}

/* — Uni Sans Thin */
@font-face {
  font-family: "Uni Sans Thin";
  src:
    url("/rustam-site/assents/fonts/UniSans-Thin.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/UniSans-Thin.woff") format("woff"),
    url("/rustam-site/assents/fonts/Uni%20Sans%20Thin.otf") format("opentype");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Uni Sans Thin";
  src:
    url("/rustam-site/assents/fonts/UniSans-Thin-Italic.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/UniSans-Thin-Italic.woff") format("woff"),
    url("/rustam-site/assents/fonts/Uni%20Sans%20Thin%20Italic.otf") format("opentype");
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

/* — Jura */
@font-face {
  font-family: "Jura-Ofont";
  src:
    url("/rustam-site/assents/fonts/ofont.ru_Jura.woff2") format("woff2"),
    url("/rustam-site/assents/fonts/ofont.ru_Jura.woff") format("woff"),
    url("/rustam-site/assents/fonts/ofont.ru_Jura.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* ========= Base Theme / Resets ========= */
:root {
  color-scheme: dark;
  --bg: #000;
  --fg: #fff;
  overscroll-behavior: none;
  --vvh: 100svh; /* fallback, пока main.jsx не применил реальные пиксели */

  /* safe-area (работает при viewport-fit=cover) */
  --safe-t: env(safe-area-inset-top, 0px);
  --safe-b: env(safe-area-inset-bottom, 0px);
  --safe-l: env(safe-area-inset-left, 0px);
  --safe-r: env(safe-area-inset-right, 0px);
}

*,
*::before,
*::after { box-sizing: border-box; }

/* Корень растягиваем на «большую» высоту устройства, без прокрутки */
html, body, #root {
  margin: 0;
  padding: 0;
  background: #000;
  width: 100%;
  min-height: 100lvh;                 /* заполняем весь экран, включая зоны под UI */
}

html, body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto,
               "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  touch-action: manipulation;
}

body {
  overflow: hidden;                    /* сайт без вертикального скролла */
}

#root { isolation: isolate; }

::selection {
  background: rgba(255,255,255,0.18);
  color: #fff;
}

img, svg, video, canvas {
  display: block;
  max-width: 100%;
}

a { color: inherit; text-decoration: none; }

button, input, select, textarea {
  font: inherit;
  color: inherit;
  background: transparent;
  border: none;
}

:focus-visible {
  outline: 2px solid rgba(255,255,255,0.35);
  outline-offset: 2px;
}

/* ========= Layout ========= */
/* Контент: занимает видимую высоту (устанавливается в main.jsx через --vvh) */
.app {
  position: relative;
  z-index: 2;                        /* над фоном */
  width: 100vw;
  height: var(--vvh, 100svh);        /* именно видимая высота — без чёрных полос */
  min-height: var(--vvh, 100svh);
  overflow: hidden;
  background: transparent;
}

/* Фон: тянем на «большую» высоту 100lvh, чтобы перекрыть зоны под UI */
.bg-fixed-under-ui {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100lvh;                    /* фон тянется под UI-панели */
  z-index: 0;
  pointer-events: none;              /* слой не перехватывает клики */
  overflow: hidden;
  background: #000;                  /* подложка, пока канвас рисует */
}

/* ========= Utility helpers ========= */
.font-abc          { font-family: "ABC_TypeWriterRussian", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
.font-rostov       { font-family: "Rostov", "Uni Sans Heavy", "UniSans-Heavy", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
.font-royal        { font-family: "Royal Crescent", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
.font-uni-heavy    { font-family: "Uni Sans Heavy", "UniSans-Heavy", "Uni Sans", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
.font-uni-thin     { font-family: "Uni Sans Thin", "Uni Sans", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
.font-jura         { font-family: "Jura-Ofont", Jura, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }
